<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>window A</title>
  </head>
  <body>
    <div class="container">
      <p>sub window</p>
      <p>Name: <span id="name"></span></p>

      <p>Cookie: <span id="cookie"></p>
    </div>

    <script>
      var cookieKey = "sub_window";

      function getCookie(key) {
        return document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)" + key + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1");
      }

      function removeCookie(key, value) {
        var cookie = getCookie(key).split(",");
        cookie = cookie.filter(function(val) { return val != value });
        document.cookie = key + "=" + cookie.join(",");
      }

      window.addEventListener("unload", function() {
        removeCookie(cookieKey, window.name);
      });

      document.querySelector("#name").textContent = window.name;
      document.querySelector("#cookie").textContent = document.cookie;
      
    </script>
  </body>
</html>
